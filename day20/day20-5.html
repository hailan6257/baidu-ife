<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
    <button id="fade-btn">淡出</button>
    <script>
        let fadeObj = document.querySelector('#fade-obj');
        let fadeBtn = document.querySelector('#fade-btn');
        fadeBtn.onclick = function(){
            if( fadeBtn.innerHTML == '淡出'){
                fadeBtn.disabled = true;               
                for( let i = 1; i>+0; i = i - 0.1){
                    function aB(){
                    fadeObj.style.opacity = i;
                    console.log(i);
                    }                    
                    setTimeout("aB()",100);
                }
                fadeBtn.disabled = false;
                fadeBtn.innerHTML = '淡入';
            }else if(fadeBtn.innerHTML = '淡入'){
                fadeBtn.disabled = true;
                for( let n = 0; n<=1; n = n + 0.1){                   
                    setTimeout("function(){fadeObj.style.opacity = n}",100);
                }
                fadeBtn.disabled = false;
                fadeBtn.innerHTML = '淡出';
            }            
            
        }
    </script>
</body>
</html>